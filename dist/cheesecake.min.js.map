{"version":3,"sources":["cheesecake.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","registerComponent","componentName","componentType","reference","component","Cheesecake","toLowerCase","getComponent","model","Model","viewController","ViewController","mixin","Mixin","./Mixin.js","./Model.js","./ViewController.js",2,"create","./Cheesecake.js",3,"state","eventHandlers","ParentModel","set","property","value","this","_state","get","registerEvent","name","cb","viewCallbacks","push","propagateEvent","callbacks","forEach","callback","ModelConstructor","mixins","childCallbacks","parent","options",4,"ViewControllerConstructor","el","init","render",5],"mappings":"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","file":"cheesecake.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar Cheesecake = {\n  model: {\n    Model: require('./Model.js')\n  },\n  viewController: {\n    ViewController: require('./ViewController.js')\n  },\n  mixin: {\n    Mixin: require('./Mixin.js')\n  }\n};\n\n\nfunction registerComponent(componentName, componentType, reference) {\n  var component = Cheesecake[componentType.toLowerCase()][componentName];\n  if(component) {\n    throw new Error(componentName + ' component was already registered');\n  }\n  Cheesecake[componentType.toLowerCase()][componentName] = reference;\n}\n\nfunction getComponent(componentName, componentType) {\n  var component = Cheesecake[componentType.toLowerCase()][componentName];\n  if(!component) {\n    throw new Error(componentName + ' does not exist');\n  }\n  return component;\n}\n\n// global event system?\n\nmodule.exports = {\n  registerComponent: registerComponent,\n  getComponent: getComponent\n};\n\n},{\"./Mixin.js\":2,\"./Model.js\":3,\"./ViewController.js\":4}],2:[function(require,module,exports){\nvar Cheesecake = require('./Cheesecake.js');\n\nvar Mixin = function() {\n\n};\n\nMixin.create = function() {\n\n};\n\nmodule.exports = Mixin;\n\n},{\"./Cheesecake.js\":1}],3:[function(require,module,exports){\nvar Cheesecake = require('./Cheesecake.js');\n\nvar Model = function(state, eventHandlers, ParentModel) {\n  this.set = set;\n  this.get = get;\n  this.registerEvent = registerEvent;\n  this.propagateEvent = propagateEvent;\n\n  //////////\n  \n\n  function set(property, value) {\n    this._state[property] = value;\n  };\n\n  function get(property, value) {\n    return this._state[property];\n  }\n\n  function registerEvent(name, cb) {\n    if(!this.viewCallbacks[name]) {\n      this.viewCallbacks[name] = [];\n    }\n    this.viewCallbacks[name].push(cb);\n  }\n\n  function propagateEvent(property, value) {\n    var callbacks = this.viewCallbacks[property];\n    if(!callbacks) {return; }\n    callbacks.forEach(function(callback) {\n      callback(value);\n    });\n  };\n};\n\nvar ModelConstructor = function(state, eventHandlers, ParentModel, mixins) {\n  this._state = state;\n\n  this.eventHandlers = eventHandlers;\n  this.childCallbacks = {};\n  this.viewCallbacks = {};\n\n  var parent = Cheesecake.getComponent(ParentModel, 'model');\n  this.parent = parent || null;\n  \n  var model = Cheesecake.getComponent('Model', 'model');\n  if(model) {\n    model.call(this);    \n  }\n\n  for(var i = 0; i < mixins.length; i++) {\n    var mixin = Cheesecake.getComponent(mixins[i], 'mixin');\n    if(mixin) {\n      mixin.call(this);\n    }\n  }\n};\n\nModel.create = function(name, options) {\n  var model = new ModelConstructor(options.state, options.eventHandlers, options.ParentModel, options.mixins);\n  try {\n    Cheesecake.registerComponent('model', name, model);  \n    return model;    \n  } catch(e) {\n    throw new Error('Component could not be registered');\n  }\n}\n\nmodule.exports = Model;\n\n},{\"./Cheesecake.js\":1}],4:[function(require,module,exports){\nvar Cheesecake = require('./Cheesecake.js');\n\nvar ViewController = function() {\n\n};\n\nvar ViewControllerConstructor = function(el, init, render, model) {\n  this.el = el;\n  this.model = model;\n  this.render = render;\n\n  init.call(this);\n};\n\nViewController.create = function(name, options) {\n  return new ViewControllerConstructor(options.el, options.init, options.render, options.model);\n}\n\nmodule.exports = ViewController;\n\n},{\"./Cheesecake.js\":1}],5:[function(require,module,exports){\nmodule.exports = {\n  Model: require('./Model.js'),\n  ViewController: require('./ViewController.js'),\n  Mixin: require('./Mixin.js')\n};\n\n},{\"./Mixin.js\":2,\"./Model.js\":3,\"./ViewController.js\":4}]},{},[5]);\n"],"sourceRoot":"/source/"}